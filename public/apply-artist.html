<!DOCTYPE html>
<html lang="ru">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="–ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º 
  –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –≤—ã—Å—Ç–∞–≤–∫–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ ArtWave. 
  –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä, –±–∏–æ–≥—Ä–∞—Ñ–∏—é –∏ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç.">
  <meta name="keywords" content="–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –≤—ã—Å—Ç–∞–≤–∫–∞, –∏—Å–∫—É—Å—Å—Ç–≤–æ, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∏, 
  –æ–Ω–ª–∞–π–Ω-–≥–∞–ª–µ—Ä–µ—è, ArtWave">
  <meta name="author" content="ArtWave">
  <title>–°—Ç–∞—Ç—å —Ö—É–¥–æ–∂–Ω–∏–∫–æ–º</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs/dayjs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mixitup/dist/mixitup.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.css">
  <script src="https://cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.js"></script>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  
  <header class="bg-white shadow-md fixed top-0 left-0 w-full z-50">
    <div class="mx-auto px-6 sm:px-8 lg:px-10">
      <div class="flex justify-between items-center h-16">
        <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ª–µ–≤–∞ -->
        <h1 class="text-2xl lg:text-3xl font-bold text-gray-800">–ó–∞—è–≤–∫–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</h1>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å–ø—Ä–∞–≤–∞ (–¥–µ—Å–∫—Ç–æ–ø) -->
        <nav class="hidden lg:flex items-center space-x-6 text-base font-medium navigation">
          <a href="/" class="hover:text-[#20977d]">–ù–∞–∑–∞–¥</a>
          <a href="#" id="logoutBtn" class="hover:text-[#20977d]">–í—ã–π—Ç–∏</a>
        </nav>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
        <div class="lg:hidden">
          <button id="mobileMenuBtn" class="p-2 rounded-md text-gray-500 hover:text-black focus:outline-none">
            <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
    <div id="mobileMenu" class="lg:hidden hidden px-6 pt-2 pb-4 space-y-1 text-gray-700 text-base font-medium navigation">
      <a href="/" class="block hover:text-[#20977d]">–ù–∞–∑–∞–¥</a>
      <a href="#" id="logoutBtnMobile" class="block hover:text-[#20977d]">–í—ã–π—Ç–∏</a>
    </div>
  </header>

  <hr />

  <main class="pt-28 px-6 justify-center">
    <form id="artistForm">
      <label>–û —Å–µ–±–µ (Bio):</label>
      <textarea name="bio" required></textarea>

      <label>–°—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ—Ü—Å–µ—Ç–∏:</label>
      <input type="text" name="socialLinks" required>

      <label>–ê–≤–∞—Ç–∞—Ä:</label>
      <input type="file" name="avatar" accept="image/*" required>
      
      <label>–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç (–¥–æ 5):</label>
      <input type="file" name="samples" accept="image/*" multiple required>


      <br><br>
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </form>
    <div id="message"></div>
  </main>

  <script>
    document.getElementById('artistForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const token = localStorage.getItem('token');
      // üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–æ 10MB)
      for (const [key, value] of formData.entries()) {
        if (value instanceof File && value.size > 5 * 1024 * 1024) {
          Swal.fire('–û—à–∏–±–∫–∞', `–§–∞–π–ª "${value.name}" —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º 5 –ú–ë.`, 'error');
          return;
        }
      }

      if (!token) return alert('–í—ã –Ω–µ –≤–æ—à–ª–∏');

      const response = await fetch('/api/apply-artist', {
        method: 'POST',
        headers: { Authorization: 'Bearer ' + token },
        body: formData
      });

      const result = await response.text();
      document.getElementById('message').innerText = result;
    });
  </script>
  <script src="/js/nav.js"></script>
  <script type="module" src="/js/index.js"></script>
</body>
</html>
